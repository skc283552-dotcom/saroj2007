<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Reminder</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body{font-family:'Roboto',sans-serif;margin:0;padding:0;background:#fff3e0;}
header{background:#fb8c00;color:white;padding:20px;text-align:center;}
.section{width:90%;margin:20px auto;background:white;padding:10px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
input,button{padding:8px;margin:5px;border-radius:5px;border:1px solid #ccc;}
button{border:none;background:#4e73df;color:white;cursor:pointer;}
table{width:100%;border-collapse:collapse;}
th,td{border:1px solid #ccc;padding:8px;text-align:center;}
th{background:#fb8c00;color:white;}
</style>
</head>
<body>
<header><h1>Birthday Reminder</h1></header>

<div class="section">
<h3>Add Birthday</h3>
<input type="text" id="bName" placeholder="Name">
<input type="date" id="bDate">
<button onclick="addBirthday()">Add</button>
</div>

<div class="section">
<h3>Search Birthday</h3>
<input type="text" id="searchName" placeholder="Search by Name" onkeyup="searchBirthday()">
</div>

<div class="section">
<h3>Birthdays</h3>
<table id="birthdayTable">
<tr><th>Name</th><th>Date</th></tr>
</table>
</div>

<div style="text-align:center;margin:20px;">
<button onclick="window.location.href='index.html'">Back to Dashboard</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyDEwEKdRLKBbsw9GS_V3j0tzRlv4XjOHaA",
  authDomain: "personaldashboard-a6738.firebaseapp.com",
  databaseURL: "https://personaldashboard-a6738-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "personaldashboard-a6738",
  storageBucket: "personaldashboard-a6738.appspot.com",
  messagingSenderId: "936129174674",
  appId: "1:936129174674:web:71dcc2cb9c590a3f361a4b",
  measurementId: "G-85JJGPJ7K4"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.database().ref("birthday");

// Add Birthday
function addBirthday(){
  const name=document.getElementById('bName').value;
  const date=document.getElementById('bDate').value;
  if(!name||!date) return alert("Enter name and date");
  const id=Date.now();
  db.child(id).set({name,date});
  document.getElementById('bName').value='';
  document.getElementById('bDate').value='';
}

// Load birthdays
db.on('value', snapshot=>{
  const data=snapshot.val();
  displayBirthdays(data);
});

// Display Birthdays
function displayBirthdays(data){
  const table=document.getElementById('birthdayTable');
  table.innerHTML="<tr><th>Name</th><th>Date</th></tr>";
  for(let key in data){
    let row=table.insertRow();
    row.insertCell(0).innerText=data[key].name;
    row.insertCell(1).innerText=data[key].date;
  }
}

// Search Birthday by Name
function searchBirthday(){
  const filter=document.getElementById('searchName').value.toLowerCase();
  db.once('value', snapshot=>{
    const data=snapshot.val();
    let filtered={};
    for(let key in data){
      if(data[key].name.toLowerCase().includes(filter)){
        filtered[key]=data[key];
      }
    }
    displayBirthdays(filtered);
  });
}
</script>
</body>
</html>
